
<script>
  var map2;
  var infowindow;
  var markers = [];
  function initMap() {
    infowindow = new google.maps.InfoWindow();
    map2 = new google.maps.Map(document.getElementById('new_rg_map'), {
      center: {lat: 5.5557, lng: -0.1963},
      zoom: 8
    });

    google.maps.event.addListener(map2, "click", function (event) {
      clearOverlays();
        var lat = event.latLng.lat();
        var lon = event.latLng.lng();
        var point = new google.maps.LatLng(lat, lon);
        var marker = new google.maps.Marker({
          map: map2,
          position: point
        });
        //console.log( lat + ', ' + lon );
        $("#new_reg_lat").val(lat);
        $("#new_reg_lon").val(lon);

        radius = new google.maps.Circle({map: map2,
            radius: 100,
            center: event.latLng,
            fillColor: '#777',
            fillOpacity: 0.1,
            strokeColor: '#AA0000',
            strokeOpacity: 0.8,
            strokeWeight: 2,
            draggable: true,
            editable: true
        });

        // Center of map
        //map.panTo(new google.maps.LatLng(latitude,longitude));
        markers.push(marker);
    });
  }
  initMap();

  function clearOverlays() {
    for (var i = 0; i < markers.length; i++ ) {
      markers[i].setMap(null);
    }
    markers.length = 0;
  }
</script>
